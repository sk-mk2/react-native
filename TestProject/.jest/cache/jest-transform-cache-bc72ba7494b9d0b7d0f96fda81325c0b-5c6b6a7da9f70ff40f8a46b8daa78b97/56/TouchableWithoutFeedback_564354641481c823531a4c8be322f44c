99c041036409e271b2cb617b57b5a3fe
'use strict';var EdgeInsetsPropType=require('EdgeInsetsPropType');var React=require('React');var PropTypes=require('prop-types');var TimerMixin=require('react-timer-mixin');var Touchable=require('Touchable');var createReactClass=require('create-react-class');var ensurePositiveDelayProps=require('ensurePositiveDelayProps');var warning=require('fbjs/lib/warning');var _require=require('ViewAccessibility'),AccessibilityComponentTypes=_require.AccessibilityComponentTypes,AccessibilityTraits=_require.AccessibilityTraits;var PRESS_RETENTION_OFFSET={top:20,left:20,right:20,bottom:30};var TouchableWithoutFeedback=createReactClass({displayName:'TouchableWithoutFeedback',mixins:[TimerMixin,Touchable.Mixin],propTypes:{accessible:PropTypes.bool,accessibilityComponentType:PropTypes.oneOf(AccessibilityComponentTypes),accessibilityTraits:PropTypes.oneOfType([PropTypes.oneOf(AccessibilityTraits),PropTypes.arrayOf(PropTypes.oneOf(AccessibilityTraits))]),disabled:PropTypes.bool,onPress:PropTypes.func,onPressIn:PropTypes.func,onPressOut:PropTypes.func,onLayout:PropTypes.func,onLongPress:PropTypes.func,delayPressIn:PropTypes.number,delayPressOut:PropTypes.number,delayLongPress:PropTypes.number,pressRetentionOffset:EdgeInsetsPropType,hitSlop:EdgeInsetsPropType},getInitialState:function getInitialState(){return this.touchableGetInitialState();},componentDidMount:function componentDidMount(){ensurePositiveDelayProps(this.props);},UNSAFE_componentWillReceiveProps:function UNSAFE_componentWillReceiveProps(nextProps){ensurePositiveDelayProps(nextProps);},touchableHandlePress:function touchableHandlePress(e){this.props.onPress&&this.props.onPress(e);},touchableHandleActivePressIn:function touchableHandleActivePressIn(e){this.props.onPressIn&&this.props.onPressIn(e);},touchableHandleActivePressOut:function touchableHandleActivePressOut(e){this.props.onPressOut&&this.props.onPressOut(e);},touchableHandleLongPress:function touchableHandleLongPress(e){this.props.onLongPress&&this.props.onLongPress(e);},touchableGetPressRectOffset:function touchableGetPressRectOffset(){return this.props.pressRetentionOffset||PRESS_RETENTION_OFFSET;},touchableGetHitSlop:function touchableGetHitSlop(){return this.props.hitSlop;},touchableGetHighlightDelayMS:function touchableGetHighlightDelayMS(){return this.props.delayPressIn||0;},touchableGetLongPressDelayMS:function touchableGetLongPressDelayMS(){return this.props.delayLongPress===0?0:this.props.delayLongPress||500;},touchableGetPressOutDelayMS:function touchableGetPressOutDelayMS(){return this.props.delayPressOut||0;},render:function render(){var child=React.Children.only(this.props.children);var children=child.props.children;warning(!child.type||child.type.displayName!=='Text','TouchableWithoutFeedback does not work well with Text children. Wrap children in a View instead. See '+(child._owner&&child._owner.getName&&child._owner.getName()||'<unknown>'));if(Touchable.TOUCH_TARGET_DEBUG&&child.type&&child.type.displayName==='View'){children=React.Children.toArray(children);children.push(Touchable.renderDebugView({color:'red',hitSlop:this.props.hitSlop}));}var style=Touchable.TOUCH_TARGET_DEBUG&&child.type&&child.type.displayName==='Text'?[child.props.style,{color:'red'}]:child.props.style;return React.cloneElement(child,{accessible:this.props.accessible!==false,accessibilityLabel:this.props.accessibilityLabel,accessibilityComponentType:this.props.accessibilityComponentType,accessibilityTraits:this.props.accessibilityTraits,nativeID:this.props.nativeID,testID:this.props.testID,onLayout:this.props.onLayout,hitSlop:this.props.hitSlop,onStartShouldSetResponder:this.touchableHandleStartShouldSetResponder,onResponderTerminationRequest:this.touchableHandleResponderTerminationRequest,onResponderGrant:this.touchableHandleResponderGrant,onResponderMove:this.touchableHandleResponderMove,onResponderRelease:this.touchableHandleResponderRelease,onResponderTerminate:this.touchableHandleResponderTerminate,style:style,children:children});}});module.exports=TouchableWithoutFeedback;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRvdWNoYWJsZVdpdGhvdXRGZWVkYmFjay5qcyJdLCJuYW1lcyI6WyJFZGdlSW5zZXRzUHJvcFR5cGUiLCJyZXF1aXJlIiwiUmVhY3QiLCJQcm9wVHlwZXMiLCJUaW1lck1peGluIiwiVG91Y2hhYmxlIiwiY3JlYXRlUmVhY3RDbGFzcyIsImVuc3VyZVBvc2l0aXZlRGVsYXlQcm9wcyIsIndhcm5pbmciLCJBY2Nlc3NpYmlsaXR5Q29tcG9uZW50VHlwZXMiLCJBY2Nlc3NpYmlsaXR5VHJhaXRzIiwiUFJFU1NfUkVURU5USU9OX09GRlNFVCIsInRvcCIsImxlZnQiLCJyaWdodCIsImJvdHRvbSIsIlRvdWNoYWJsZVdpdGhvdXRGZWVkYmFjayIsImRpc3BsYXlOYW1lIiwibWl4aW5zIiwiTWl4aW4iLCJwcm9wVHlwZXMiLCJhY2Nlc3NpYmxlIiwiYm9vbCIsImFjY2Vzc2liaWxpdHlDb21wb25lbnRUeXBlIiwib25lT2YiLCJhY2Nlc3NpYmlsaXR5VHJhaXRzIiwib25lT2ZUeXBlIiwiYXJyYXlPZiIsImRpc2FibGVkIiwib25QcmVzcyIsImZ1bmMiLCJvblByZXNzSW4iLCJvblByZXNzT3V0Iiwib25MYXlvdXQiLCJvbkxvbmdQcmVzcyIsImRlbGF5UHJlc3NJbiIsIm51bWJlciIsImRlbGF5UHJlc3NPdXQiLCJkZWxheUxvbmdQcmVzcyIsInByZXNzUmV0ZW50aW9uT2Zmc2V0IiwiaGl0U2xvcCIsImdldEluaXRpYWxTdGF0ZSIsInRvdWNoYWJsZUdldEluaXRpYWxTdGF0ZSIsImNvbXBvbmVudERpZE1vdW50IiwicHJvcHMiLCJVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyIsIm5leHRQcm9wcyIsInRvdWNoYWJsZUhhbmRsZVByZXNzIiwiZSIsInRvdWNoYWJsZUhhbmRsZUFjdGl2ZVByZXNzSW4iLCJ0b3VjaGFibGVIYW5kbGVBY3RpdmVQcmVzc091dCIsInRvdWNoYWJsZUhhbmRsZUxvbmdQcmVzcyIsInRvdWNoYWJsZUdldFByZXNzUmVjdE9mZnNldCIsInRvdWNoYWJsZUdldEhpdFNsb3AiLCJ0b3VjaGFibGVHZXRIaWdobGlnaHREZWxheU1TIiwidG91Y2hhYmxlR2V0TG9uZ1ByZXNzRGVsYXlNUyIsInRvdWNoYWJsZUdldFByZXNzT3V0RGVsYXlNUyIsInJlbmRlciIsImNoaWxkIiwiQ2hpbGRyZW4iLCJvbmx5IiwiY2hpbGRyZW4iLCJ0eXBlIiwiX293bmVyIiwiZ2V0TmFtZSIsIlRPVUNIX1RBUkdFVF9ERUJVRyIsInRvQXJyYXkiLCJwdXNoIiwicmVuZGVyRGVidWdWaWV3IiwiY29sb3IiLCJzdHlsZSIsImNsb25lRWxlbWVudCIsImFjY2Vzc2liaWxpdHlMYWJlbCIsIm5hdGl2ZUlEIiwidGVzdElEIiwib25TdGFydFNob3VsZFNldFJlc3BvbmRlciIsInRvdWNoYWJsZUhhbmRsZVN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyIiwib25SZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3QiLCJ0b3VjaGFibGVIYW5kbGVSZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3QiLCJvblJlc3BvbmRlckdyYW50IiwidG91Y2hhYmxlSGFuZGxlUmVzcG9uZGVyR3JhbnQiLCJvblJlc3BvbmRlck1vdmUiLCJ0b3VjaGFibGVIYW5kbGVSZXNwb25kZXJNb3ZlIiwib25SZXNwb25kZXJSZWxlYXNlIiwidG91Y2hhYmxlSGFuZGxlUmVzcG9uZGVyUmVsZWFzZSIsIm9uUmVzcG9uZGVyVGVybWluYXRlIiwidG91Y2hhYmxlSGFuZGxlUmVzcG9uZGVyVGVybWluYXRlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBU0EsYUFFQSxHQUFNQSxvQkFBcUJDLE9BQXJCLHNCQUFOLENBQ0EsR0FBTUMsT0FBUUQsT0FBUixTQUFOLENBQ0EsR0FBTUUsV0FBWUYsT0FBWixjQUFOLENBSUEsR0FBTUcsWUFBYUgsT0FBYixxQkFBTixDQUNBLEdBQU1JLFdBQVlKLE9BQVosYUFBTixDQUVBLEdBQU1LLGtCQUFtQkwsT0FBbkIsc0JBQU4sQ0FDQSxHQUFNTSwwQkFBMkJOLE9BQTNCLDRCQUFOLENBSUEsR0FBTU8sU0FBVVAsT0FBVixvQkFBTixDLGFBS0lBLE8sc0JBRkZRLDJCLFVBQUFBLDJCLENBQ0FDLG1CLFVBQUFBLG1CLENBS0YsR0FBTUMsd0JBQXlCLENBQUNDLElBQUssRUFBTixDQUFVQyxLQUFNLEVBQWhCLENBQW9CQyxNQUFPLEVBQTNCLENBQStCQyxPQUFRLEVBQXZDLENBQS9CLENBU0EsR0FBTUMsMEJBQTJCVixpQkFBaUIsQ0FDaERXLFlBQWEsMEJBRG1DLENBRWhEQyxPQUFRLENBQUNkLFVBQUQsQ0FBYUMsVUFBVWMsS0FBdkIsQ0FGd0MsQ0FJaERDLFVBQVcsQ0FDVEMsV0FBWWxCLFVBQVVtQixJQURiLENBRVRDLDJCQUE0QnBCLFVBQVVxQixLQUFWLENBQzFCZiwyQkFEMEIsQ0FGbkIsQ0FLVGdCLG9CQUFxQnRCLFVBQVV1QixTQUFWLENBQW9CLENBQ3ZDdkIsVUFBVXFCLEtBQVYsQ0FBZ0JkLG1CQUFoQixDQUR1QyxDQUV2Q1AsVUFBVXdCLE9BQVYsQ0FBa0J4QixVQUFVcUIsS0FBVixDQUFnQmQsbUJBQWhCLENBQWxCLENBRnVDLENBQXBCLENBTFosQ0FZVGtCLFNBQVV6QixVQUFVbUIsSUFaWCxDQWlCVE8sUUFBUzFCLFVBQVUyQixJQWpCVixDQXNCVEMsVUFBVzVCLFVBQVUyQixJQXRCWixDQTBCUkUsV0FBWTdCLFVBQVUyQixJQTFCZCxDQWdDVEcsU0FBVTlCLFVBQVUyQixJQWhDWCxDQWtDVEksWUFBYS9CLFVBQVUyQixJQWxDZCxDQXVDVEssYUFBY2hDLFVBQVVpQyxNQXZDZixDQTJDVEMsY0FBZWxDLFVBQVVpQyxNQTNDaEIsQ0ErQ1RFLGVBQWdCbkMsVUFBVWlDLE1BL0NqQixDQXVEVEcscUJBQXNCdkMsa0JBdkRiLENBZ0VUd0MsUUFBU3hDLGtCQWhFQSxDQUpxQyxDQXVFaER5QyxnQkFBaUIsMEJBQVcsQ0FDMUIsTUFBTyxNQUFLQyx3QkFBTCxFQUFQLENBQ0QsQ0F6RStDLENBMkVoREMsa0JBQW1CLDRCQUFXLENBQzVCcEMseUJBQXlCLEtBQUtxQyxLQUE5QixFQUNELENBN0UrQyxDQStFaERDLGlDQUFrQywwQ0FBU0MsU0FBVCxDQUE0QixDQUM1RHZDLHlCQUF5QnVDLFNBQXpCLEVBQ0QsQ0FqRitDLENBdUZoREMscUJBQXNCLDhCQUFTQyxDQUFULENBQXdCLENBQzVDLEtBQUtKLEtBQUwsQ0FBV2YsT0FBWCxFQUFzQixLQUFLZSxLQUFMLENBQVdmLE9BQVgsQ0FBbUJtQixDQUFuQixDQUF0QixDQUNELENBekYrQyxDQTJGaERDLDZCQUE4QixzQ0FBU0QsQ0FBVCxDQUF3QixDQUNwRCxLQUFLSixLQUFMLENBQVdiLFNBQVgsRUFBd0IsS0FBS2EsS0FBTCxDQUFXYixTQUFYLENBQXFCaUIsQ0FBckIsQ0FBeEIsQ0FDRCxDQTdGK0MsQ0ErRmhERSw4QkFBK0IsdUNBQVNGLENBQVQsQ0FBd0IsQ0FDckQsS0FBS0osS0FBTCxDQUFXWixVQUFYLEVBQXlCLEtBQUtZLEtBQUwsQ0FBV1osVUFBWCxDQUFzQmdCLENBQXRCLENBQXpCLENBQ0QsQ0FqRytDLENBbUdoREcseUJBQTBCLGtDQUFTSCxDQUFULENBQXdCLENBQ2hELEtBQUtKLEtBQUwsQ0FBV1YsV0FBWCxFQUEwQixLQUFLVSxLQUFMLENBQVdWLFdBQVgsQ0FBdUJjLENBQXZCLENBQTFCLENBQ0QsQ0FyRytDLENBdUdoREksNEJBQTZCLHNDQUEwQyxDQUNyRSxNQUFPLE1BQUtSLEtBQUwsQ0FBV0wsb0JBQVgsRUFBbUM1QixzQkFBMUMsQ0FDRCxDQXpHK0MsQ0EyR2hEMEMsb0JBQXFCLDhCQUFvQixDQUN2QyxNQUFPLE1BQUtULEtBQUwsQ0FBV0osT0FBbEIsQ0FDRCxDQTdHK0MsQ0ErR2hEYyw2QkFBOEIsdUNBQW1CLENBQy9DLE1BQU8sTUFBS1YsS0FBTCxDQUFXVCxZQUFYLEVBQTJCLENBQWxDLENBQ0QsQ0FqSCtDLENBbUhoRG9CLDZCQUE4Qix1Q0FBbUIsQ0FDL0MsTUFBTyxNQUFLWCxLQUFMLENBQVdOLGNBQVgsR0FBOEIsQ0FBOUIsQ0FBa0MsQ0FBbEMsQ0FDTCxLQUFLTSxLQUFMLENBQVdOLGNBQVgsRUFBNkIsR0FEL0IsQ0FFRCxDQXRIK0MsQ0F3SGhEa0IsNEJBQTZCLHNDQUFtQixDQUM5QyxNQUFPLE1BQUtaLEtBQUwsQ0FBV1AsYUFBWCxFQUE0QixDQUFuQyxDQUNELENBMUgrQyxDQTRIaERvQixPQUFRLGlCQUErQixDQUdyQyxHQUFNQyxPQUFReEQsTUFBTXlELFFBQU4sQ0FBZUMsSUFBZixDQUFvQixLQUFLaEIsS0FBTCxDQUFXaUIsUUFBL0IsQ0FBZCxDQUNBLEdBQUlBLFVBQVdILE1BQU1kLEtBQU4sQ0FBWWlCLFFBQTNCLENBQ0FyRCxRQUNFLENBQUNrRCxNQUFNSSxJQUFQLEVBQWVKLE1BQU1JLElBQU4sQ0FBVzdDLFdBQVgsR0FBMkIsTUFENUMsQ0FFRSx5R0FDSXlDLE1BQU1LLE1BQU4sRUFBZ0JMLE1BQU1LLE1BQU4sQ0FBYUMsT0FBN0IsRUFBd0NOLE1BQU1LLE1BQU4sQ0FBYUMsT0FBYixFQUF6QyxFQUFvRSxXQUR2RSxDQUZGLEVBS0EsR0FBSTNELFVBQVU0RCxrQkFBVixFQUFnQ1AsTUFBTUksSUFBdEMsRUFBOENKLE1BQU1JLElBQU4sQ0FBVzdDLFdBQVgsR0FBMkIsTUFBN0UsQ0FBcUYsQ0FDbkY0QyxTQUFXM0QsTUFBTXlELFFBQU4sQ0FBZU8sT0FBZixDQUF1QkwsUUFBdkIsQ0FBWCxDQUNBQSxTQUFTTSxJQUFULENBQWM5RCxVQUFVK0QsZUFBVixDQUEwQixDQUFDQyxNQUFPLEtBQVIsQ0FBZTdCLFFBQVMsS0FBS0ksS0FBTCxDQUFXSixPQUFuQyxDQUExQixDQUFkLEVBQ0QsQ0FDRCxHQUFNOEIsT0FBU2pFLFVBQVU0RCxrQkFBVixFQUFnQ1AsTUFBTUksSUFBdEMsRUFBOENKLE1BQU1JLElBQU4sQ0FBVzdDLFdBQVgsR0FBMkIsTUFBMUUsQ0FDWixDQUFDeUMsTUFBTWQsS0FBTixDQUFZMEIsS0FBYixDQUFvQixDQUFDRCxNQUFPLEtBQVIsQ0FBcEIsQ0FEWSxDQUVaWCxNQUFNZCxLQUFOLENBQVkwQixLQUZkLENBR0EsTUFBUXBFLE1BQUQsQ0FBYXFFLFlBQWIsQ0FBMEJiLEtBQTFCLENBQWlDLENBQ3RDckMsV0FBWSxLQUFLdUIsS0FBTCxDQUFXdkIsVUFBWCxHQUEwQixLQURBLENBRXRDbUQsbUJBQW9CLEtBQUs1QixLQUFMLENBQVc0QixrQkFGTyxDQUd0Q2pELDJCQUE0QixLQUFLcUIsS0FBTCxDQUFXckIsMEJBSEQsQ0FJdENFLG9CQUFxQixLQUFLbUIsS0FBTCxDQUFXbkIsbUJBSk0sQ0FLdENnRCxTQUFVLEtBQUs3QixLQUFMLENBQVc2QixRQUxpQixDQU10Q0MsT0FBUSxLQUFLOUIsS0FBTCxDQUFXOEIsTUFObUIsQ0FPdEN6QyxTQUFVLEtBQUtXLEtBQUwsQ0FBV1gsUUFQaUIsQ0FRdENPLFFBQVMsS0FBS0ksS0FBTCxDQUFXSixPQVJrQixDQVN0Q21DLDBCQUEyQixLQUFLQyxzQ0FUTSxDQVV0Q0MsOEJBQStCLEtBQUtDLDBDQVZFLENBV3RDQyxpQkFBa0IsS0FBS0MsNkJBWGUsQ0FZdENDLGdCQUFpQixLQUFLQyw0QkFaZ0IsQ0FhdENDLG1CQUFvQixLQUFLQywrQkFiYSxDQWN0Q0MscUJBQXNCLEtBQUtDLGlDQWRXLENBZXRDaEIsV0Fmc0MsQ0FnQnRDVCxpQkFoQnNDLENBQWpDLENBQVAsQ0FrQkQsQ0EvSitDLENBQWpCLENBQWpDLENBa0tBMEIsT0FBT0MsT0FBUCxDQUFpQnhFLHdCQUFqQiIsImZpbGUiOiJUb3VjaGFibGVXaXRob3V0RmVlZGJhY2suanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBUb3VjaGFibGVXaXRob3V0RmVlZGJhY2tcbiAqIEBmbG93XG4gKi9cbid1c2Ugc3RyaWN0JztcblxuY29uc3QgRWRnZUluc2V0c1Byb3BUeXBlID0gcmVxdWlyZSgnRWRnZUluc2V0c1Byb3BUeXBlJyk7XG5jb25zdCBSZWFjdCA9IHJlcXVpcmUoJ1JlYWN0Jyk7XG5jb25zdCBQcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG4vKiAkRmxvd0ZpeE1lKD49MC41NC4wIHNpdGU9cmVhY3RfbmF0aXZlX29zcykgVGhpcyBjb21tZW50IHN1cHByZXNzZXMgYW4gZXJyb3JcbiAqIGZvdW5kIHdoZW4gRmxvdyB2MC41NCB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGUgZXJyb3IgZGVsZXRlIHRoaXMgY29tbWVudCBhbmRcbiAqIHJ1biBGbG93LiAqL1xuY29uc3QgVGltZXJNaXhpbiA9IHJlcXVpcmUoJ3JlYWN0LXRpbWVyLW1peGluJyk7XG5jb25zdCBUb3VjaGFibGUgPSByZXF1aXJlKCdUb3VjaGFibGUnKTtcblxuY29uc3QgY3JlYXRlUmVhY3RDbGFzcyA9IHJlcXVpcmUoJ2NyZWF0ZS1yZWFjdC1jbGFzcycpO1xuY29uc3QgZW5zdXJlUG9zaXRpdmVEZWxheVByb3BzID0gcmVxdWlyZSgnZW5zdXJlUG9zaXRpdmVEZWxheVByb3BzJyk7XG4vKiAkRmxvd0ZpeE1lKD49MC41NC4wIHNpdGU9cmVhY3RfbmF0aXZlX29zcykgVGhpcyBjb21tZW50IHN1cHByZXNzZXMgYW4gZXJyb3JcbiAqIGZvdW5kIHdoZW4gRmxvdyB2MC41NCB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGUgZXJyb3IgZGVsZXRlIHRoaXMgY29tbWVudCBhbmRcbiAqIHJ1biBGbG93LiAqL1xuY29uc3Qgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcblxuY29uc3Qge1xuICBBY2Nlc3NpYmlsaXR5Q29tcG9uZW50VHlwZXMsXG4gIEFjY2Vzc2liaWxpdHlUcmFpdHMsXG59ID0gcmVxdWlyZSgnVmlld0FjY2Vzc2liaWxpdHknKTtcblxuaW1wb3J0IHR5cGUge1ByZXNzRXZlbnR9IGZyb20gJ0NvcmVFdmVudFR5cGVzJztcblxuY29uc3QgUFJFU1NfUkVURU5USU9OX09GRlNFVCA9IHt0b3A6IDIwLCBsZWZ0OiAyMCwgcmlnaHQ6IDIwLCBib3R0b206IDMwfTtcblxuLyoqXG4gKiBEbyBub3QgdXNlIHVubGVzcyB5b3UgaGF2ZSBhIHZlcnkgZ29vZCByZWFzb24uIEFsbCBlbGVtZW50cyB0aGF0XG4gKiByZXNwb25kIHRvIHByZXNzIHNob3VsZCBoYXZlIGEgdmlzdWFsIGZlZWRiYWNrIHdoZW4gdG91Y2hlZC5cbiAqXG4gKiBUb3VjaGFibGVXaXRob3V0RmVlZGJhY2sgc3VwcG9ydHMgb25seSBvbmUgY2hpbGQuXG4gKiBJZiB5b3Ugd2lzaCB0byBoYXZlIHNldmVyYWwgY2hpbGQgY29tcG9uZW50cywgd3JhcCB0aGVtIGluIGEgVmlldy5cbiAqL1xuY29uc3QgVG91Y2hhYmxlV2l0aG91dEZlZWRiYWNrID0gY3JlYXRlUmVhY3RDbGFzcyh7XG4gIGRpc3BsYXlOYW1lOiAnVG91Y2hhYmxlV2l0aG91dEZlZWRiYWNrJyxcbiAgbWl4aW5zOiBbVGltZXJNaXhpbiwgVG91Y2hhYmxlLk1peGluXSxcblxuICBwcm9wVHlwZXM6IHtcbiAgICBhY2Nlc3NpYmxlOiBQcm9wVHlwZXMuYm9vbCxcbiAgICBhY2Nlc3NpYmlsaXR5Q29tcG9uZW50VHlwZTogUHJvcFR5cGVzLm9uZU9mKFxuICAgICAgQWNjZXNzaWJpbGl0eUNvbXBvbmVudFR5cGVzXG4gICAgKSxcbiAgICBhY2Nlc3NpYmlsaXR5VHJhaXRzOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtcbiAgICAgIFByb3BUeXBlcy5vbmVPZihBY2Nlc3NpYmlsaXR5VHJhaXRzKSxcbiAgICAgIFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5vbmVPZihBY2Nlc3NpYmlsaXR5VHJhaXRzKSksXG4gICAgXSksXG4gICAgLyoqXG4gICAgICogSWYgdHJ1ZSwgZGlzYWJsZSBhbGwgaW50ZXJhY3Rpb25zIGZvciB0aGlzIGNvbXBvbmVudC5cbiAgICAgKi9cbiAgICBkaXNhYmxlZDogUHJvcFR5cGVzLmJvb2wsXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIHRvdWNoIGlzIHJlbGVhc2VkLCBidXQgbm90IGlmIGNhbmNlbGxlZCAoZS5nLiBieSBhIHNjcm9sbFxuICAgICAqIHRoYXQgc3RlYWxzIHRoZSByZXNwb25kZXIgbG9jaykuXG4gICAgICovXG4gICAgb25QcmVzczogUHJvcFR5cGVzLmZ1bmMsXG4gICAgLyoqXG4gICAgKiBDYWxsZWQgYXMgc29vbiBhcyB0aGUgdG91Y2hhYmxlIGVsZW1lbnQgaXMgcHJlc3NlZCBhbmQgaW52b2tlZCBldmVuIGJlZm9yZSBvblByZXNzLlxuICAgICogVGhpcyBjYW4gYmUgdXNlZnVsIHdoZW4gbWFraW5nIG5ldHdvcmsgcmVxdWVzdHMuXG4gICAgKi9cbiAgICBvblByZXNzSW46IFByb3BUeXBlcy5mdW5jLFxuICAgIC8qKlxuICAgICogQ2FsbGVkIGFzIHNvb24gYXMgdGhlIHRvdWNoIGlzIHJlbGVhc2VkIGV2ZW4gYmVmb3JlIG9uUHJlc3MuXG4gICAgKi9cbiAgICAgb25QcmVzc091dDogUHJvcFR5cGVzLmZ1bmMsXG4gICAgLyoqXG4gICAgICogSW52b2tlZCBvbiBtb3VudCBhbmQgbGF5b3V0IGNoYW5nZXMgd2l0aFxuICAgICAqXG4gICAgICogICBge25hdGl2ZUV2ZW50OiB7bGF5b3V0OiB7eCwgeSwgd2lkdGgsIGhlaWdodH19fWBcbiAgICAgKi9cbiAgICBvbkxheW91dDogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgICBvbkxvbmdQcmVzczogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgICAvKipcbiAgICAgKiBEZWxheSBpbiBtcywgZnJvbSB0aGUgc3RhcnQgb2YgdGhlIHRvdWNoLCBiZWZvcmUgb25QcmVzc0luIGlzIGNhbGxlZC5cbiAgICAgKi9cbiAgICBkZWxheVByZXNzSW46IFByb3BUeXBlcy5udW1iZXIsXG4gICAgLyoqXG4gICAgICogRGVsYXkgaW4gbXMsIGZyb20gdGhlIHJlbGVhc2Ugb2YgdGhlIHRvdWNoLCBiZWZvcmUgb25QcmVzc091dCBpcyBjYWxsZWQuXG4gICAgICovXG4gICAgZGVsYXlQcmVzc091dDogUHJvcFR5cGVzLm51bWJlcixcbiAgICAvKipcbiAgICAgKiBEZWxheSBpbiBtcywgZnJvbSBvblByZXNzSW4sIGJlZm9yZSBvbkxvbmdQcmVzcyBpcyBjYWxsZWQuXG4gICAgICovXG4gICAgZGVsYXlMb25nUHJlc3M6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgLyoqXG4gICAgICogV2hlbiB0aGUgc2Nyb2xsIHZpZXcgaXMgZGlzYWJsZWQsIHRoaXMgZGVmaW5lcyBob3cgZmFyIHlvdXIgdG91Y2ggbWF5XG4gICAgICogbW92ZSBvZmYgb2YgdGhlIGJ1dHRvbiwgYmVmb3JlIGRlYWN0aXZhdGluZyB0aGUgYnV0dG9uLiBPbmNlIGRlYWN0aXZhdGVkLFxuICAgICAqIHRyeSBtb3ZpbmcgaXQgYmFjayBhbmQgeW91J2xsIHNlZSB0aGF0IHRoZSBidXR0b24gaXMgb25jZSBhZ2FpblxuICAgICAqIHJlYWN0aXZhdGVkISBNb3ZlIGl0IGJhY2sgYW5kIGZvcnRoIHNldmVyYWwgdGltZXMgd2hpbGUgdGhlIHNjcm9sbCB2aWV3XG4gICAgICogaXMgZGlzYWJsZWQuIEVuc3VyZSB5b3UgcGFzcyBpbiBhIGNvbnN0YW50IHRvIHJlZHVjZSBtZW1vcnkgYWxsb2NhdGlvbnMuXG4gICAgICovXG4gICAgcHJlc3NSZXRlbnRpb25PZmZzZXQ6IEVkZ2VJbnNldHNQcm9wVHlwZSxcbiAgICAvKipcbiAgICAgKiBUaGlzIGRlZmluZXMgaG93IGZhciB5b3VyIHRvdWNoIGNhbiBzdGFydCBhd2F5IGZyb20gdGhlIGJ1dHRvbi4gVGhpcyBpc1xuICAgICAqIGFkZGVkIHRvIGBwcmVzc1JldGVudGlvbk9mZnNldGAgd2hlbiBtb3Zpbmcgb2ZmIG9mIHRoZSBidXR0b24uXG4gICAgICogKiogTk9URSAqKlxuICAgICAqIFRoZSB0b3VjaCBhcmVhIG5ldmVyIGV4dGVuZHMgcGFzdCB0aGUgcGFyZW50IHZpZXcgYm91bmRzIGFuZCB0aGUgWi1pbmRleFxuICAgICAqIG9mIHNpYmxpbmcgdmlld3MgYWx3YXlzIHRha2VzIHByZWNlZGVuY2UgaWYgYSB0b3VjaCBoaXRzIHR3byBvdmVybGFwcGluZ1xuICAgICAqIHZpZXdzLlxuICAgICAqL1xuICAgIGhpdFNsb3A6IEVkZ2VJbnNldHNQcm9wVHlwZSxcbiAgfSxcblxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvdWNoYWJsZUdldEluaXRpYWxTdGF0ZSgpO1xuICB9LFxuXG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcbiAgICBlbnN1cmVQb3NpdGl2ZURlbGF5UHJvcHModGhpcy5wcm9wcyk7XG4gIH0sXG5cbiAgVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6IGZ1bmN0aW9uKG5leHRQcm9wczogT2JqZWN0KSB7XG4gICAgZW5zdXJlUG9zaXRpdmVEZWxheVByb3BzKG5leHRQcm9wcyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIGBUb3VjaGFibGUuTWl4aW5gIHNlbGYgY2FsbGJhY2tzLiBUaGUgbWl4aW4gd2lsbCBpbnZva2UgdGhlc2UgaWYgdGhleSBhcmVcbiAgICogZGVmaW5lZCBvbiB5b3VyIGNvbXBvbmVudC5cbiAgICovXG4gIHRvdWNoYWJsZUhhbmRsZVByZXNzOiBmdW5jdGlvbihlOiBQcmVzc0V2ZW50KSB7XG4gICAgdGhpcy5wcm9wcy5vblByZXNzICYmIHRoaXMucHJvcHMub25QcmVzcyhlKTtcbiAgfSxcblxuICB0b3VjaGFibGVIYW5kbGVBY3RpdmVQcmVzc0luOiBmdW5jdGlvbihlOiBQcmVzc0V2ZW50KSB7XG4gICAgdGhpcy5wcm9wcy5vblByZXNzSW4gJiYgdGhpcy5wcm9wcy5vblByZXNzSW4oZSk7XG4gIH0sXG5cbiAgdG91Y2hhYmxlSGFuZGxlQWN0aXZlUHJlc3NPdXQ6IGZ1bmN0aW9uKGU6IFByZXNzRXZlbnQpIHtcbiAgICB0aGlzLnByb3BzLm9uUHJlc3NPdXQgJiYgdGhpcy5wcm9wcy5vblByZXNzT3V0KGUpO1xuICB9LFxuXG4gIHRvdWNoYWJsZUhhbmRsZUxvbmdQcmVzczogZnVuY3Rpb24oZTogUHJlc3NFdmVudCkge1xuICAgIHRoaXMucHJvcHMub25Mb25nUHJlc3MgJiYgdGhpcy5wcm9wcy5vbkxvbmdQcmVzcyhlKTtcbiAgfSxcblxuICB0b3VjaGFibGVHZXRQcmVzc1JlY3RPZmZzZXQ6IGZ1bmN0aW9uKCk6IHR5cGVvZiBQUkVTU19SRVRFTlRJT05fT0ZGU0VUIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5wcmVzc1JldGVudGlvbk9mZnNldCB8fCBQUkVTU19SRVRFTlRJT05fT0ZGU0VUO1xuICB9LFxuXG4gIHRvdWNoYWJsZUdldEhpdFNsb3A6IGZ1bmN0aW9uKCk6ID9PYmplY3Qge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmhpdFNsb3A7XG4gIH0sXG5cbiAgdG91Y2hhYmxlR2V0SGlnaGxpZ2h0RGVsYXlNUzogZnVuY3Rpb24oKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5kZWxheVByZXNzSW4gfHwgMDtcbiAgfSxcblxuICB0b3VjaGFibGVHZXRMb25nUHJlc3NEZWxheU1TOiBmdW5jdGlvbigpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmRlbGF5TG9uZ1ByZXNzID09PSAwID8gMCA6XG4gICAgICB0aGlzLnByb3BzLmRlbGF5TG9uZ1ByZXNzIHx8IDUwMDtcbiAgfSxcblxuICB0b3VjaGFibGVHZXRQcmVzc091dERlbGF5TVM6IGZ1bmN0aW9uKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuZGVsYXlQcmVzc091dCB8fCAwO1xuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKTogUmVhY3QuRWxlbWVudDxhbnk+IHtcbiAgICAvLyBOb3RlKGF2aWspOiByZW1vdmUgZHluYW1pYyB0eXBlY2FzdCBvbmNlIEZsb3cgaGFzIGJlZW4gdXBncmFkZWRcbiAgICAvLyAkRmxvd0ZpeE1lKD49MC40MS4wKVxuICAgIGNvbnN0IGNoaWxkID0gUmVhY3QuQ2hpbGRyZW4ub25seSh0aGlzLnByb3BzLmNoaWxkcmVuKTtcbiAgICBsZXQgY2hpbGRyZW4gPSBjaGlsZC5wcm9wcy5jaGlsZHJlbjtcbiAgICB3YXJuaW5nKFxuICAgICAgIWNoaWxkLnR5cGUgfHwgY2hpbGQudHlwZS5kaXNwbGF5TmFtZSAhPT0gJ1RleHQnLFxuICAgICAgJ1RvdWNoYWJsZVdpdGhvdXRGZWVkYmFjayBkb2VzIG5vdCB3b3JrIHdlbGwgd2l0aCBUZXh0IGNoaWxkcmVuLiBXcmFwIGNoaWxkcmVuIGluIGEgVmlldyBpbnN0ZWFkLiBTZWUgJyArXG4gICAgICAgICgoY2hpbGQuX293bmVyICYmIGNoaWxkLl9vd25lci5nZXROYW1lICYmIGNoaWxkLl9vd25lci5nZXROYW1lKCkpIHx8ICc8dW5rbm93bj4nKVxuICAgICk7XG4gICAgaWYgKFRvdWNoYWJsZS5UT1VDSF9UQVJHRVRfREVCVUcgJiYgY2hpbGQudHlwZSAmJiBjaGlsZC50eXBlLmRpc3BsYXlOYW1lID09PSAnVmlldycpIHtcbiAgICAgIGNoaWxkcmVuID0gUmVhY3QuQ2hpbGRyZW4udG9BcnJheShjaGlsZHJlbik7XG4gICAgICBjaGlsZHJlbi5wdXNoKFRvdWNoYWJsZS5yZW5kZXJEZWJ1Z1ZpZXcoe2NvbG9yOiAncmVkJywgaGl0U2xvcDogdGhpcy5wcm9wcy5oaXRTbG9wfSkpO1xuICAgIH1cbiAgICBjb25zdCBzdHlsZSA9IChUb3VjaGFibGUuVE9VQ0hfVEFSR0VUX0RFQlVHICYmIGNoaWxkLnR5cGUgJiYgY2hpbGQudHlwZS5kaXNwbGF5TmFtZSA9PT0gJ1RleHQnKSA/XG4gICAgICBbY2hpbGQucHJvcHMuc3R5bGUsIHtjb2xvcjogJ3JlZCd9XSA6XG4gICAgICBjaGlsZC5wcm9wcy5zdHlsZTtcbiAgICByZXR1cm4gKFJlYWN0OiBhbnkpLmNsb25lRWxlbWVudChjaGlsZCwge1xuICAgICAgYWNjZXNzaWJsZTogdGhpcy5wcm9wcy5hY2Nlc3NpYmxlICE9PSBmYWxzZSxcbiAgICAgIGFjY2Vzc2liaWxpdHlMYWJlbDogdGhpcy5wcm9wcy5hY2Nlc3NpYmlsaXR5TGFiZWwsXG4gICAgICBhY2Nlc3NpYmlsaXR5Q29tcG9uZW50VHlwZTogdGhpcy5wcm9wcy5hY2Nlc3NpYmlsaXR5Q29tcG9uZW50VHlwZSxcbiAgICAgIGFjY2Vzc2liaWxpdHlUcmFpdHM6IHRoaXMucHJvcHMuYWNjZXNzaWJpbGl0eVRyYWl0cyxcbiAgICAgIG5hdGl2ZUlEOiB0aGlzLnByb3BzLm5hdGl2ZUlELFxuICAgICAgdGVzdElEOiB0aGlzLnByb3BzLnRlc3RJRCxcbiAgICAgIG9uTGF5b3V0OiB0aGlzLnByb3BzLm9uTGF5b3V0LFxuICAgICAgaGl0U2xvcDogdGhpcy5wcm9wcy5oaXRTbG9wLFxuICAgICAgb25TdGFydFNob3VsZFNldFJlc3BvbmRlcjogdGhpcy50b3VjaGFibGVIYW5kbGVTdGFydFNob3VsZFNldFJlc3BvbmRlcixcbiAgICAgIG9uUmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0OiB0aGlzLnRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdCxcbiAgICAgIG9uUmVzcG9uZGVyR3JhbnQ6IHRoaXMudG91Y2hhYmxlSGFuZGxlUmVzcG9uZGVyR3JhbnQsXG4gICAgICBvblJlc3BvbmRlck1vdmU6IHRoaXMudG91Y2hhYmxlSGFuZGxlUmVzcG9uZGVyTW92ZSxcbiAgICAgIG9uUmVzcG9uZGVyUmVsZWFzZTogdGhpcy50b3VjaGFibGVIYW5kbGVSZXNwb25kZXJSZWxlYXNlLFxuICAgICAgb25SZXNwb25kZXJUZXJtaW5hdGU6IHRoaXMudG91Y2hhYmxlSGFuZGxlUmVzcG9uZGVyVGVybWluYXRlLFxuICAgICAgc3R5bGUsXG4gICAgICBjaGlsZHJlbixcbiAgICB9KTtcbiAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gVG91Y2hhYmxlV2l0aG91dEZlZWRiYWNrO1xuIl19