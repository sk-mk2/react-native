{"version":3,"sources":["TouchableWithoutFeedback.js"],"names":["EdgeInsetsPropType","require","React","PropTypes","TimerMixin","Touchable","createReactClass","ensurePositiveDelayProps","warning","AccessibilityComponentTypes","AccessibilityTraits","PRESS_RETENTION_OFFSET","top","left","right","bottom","TouchableWithoutFeedback","displayName","mixins","Mixin","propTypes","accessible","bool","accessibilityComponentType","oneOf","accessibilityTraits","oneOfType","arrayOf","disabled","onPress","func","onPressIn","onPressOut","onLayout","onLongPress","delayPressIn","number","delayPressOut","delayLongPress","pressRetentionOffset","hitSlop","getInitialState","touchableGetInitialState","componentDidMount","props","UNSAFE_componentWillReceiveProps","nextProps","touchableHandlePress","e","touchableHandleActivePressIn","touchableHandleActivePressOut","touchableHandleLongPress","touchableGetPressRectOffset","touchableGetHitSlop","touchableGetHighlightDelayMS","touchableGetLongPressDelayMS","touchableGetPressOutDelayMS","render","child","Children","only","children","type","_owner","getName","TOUCH_TARGET_DEBUG","toArray","push","renderDebugView","color","style","cloneElement","accessibilityLabel","nativeID","testID","onStartShouldSetResponder","touchableHandleStartShouldSetResponder","onResponderTerminationRequest","touchableHandleResponderTerminationRequest","onResponderGrant","touchableHandleResponderGrant","onResponderMove","touchableHandleResponderMove","onResponderRelease","touchableHandleResponderRelease","onResponderTerminate","touchableHandleResponderTerminate","module","exports"],"mappings":"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","file":"TouchableWithoutFeedback.js","sourcesContent":["/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @providesModule TouchableWithoutFeedback\n * @flow\n */\n'use strict';\n\nconst EdgeInsetsPropType = require('EdgeInsetsPropType');\nconst React = require('React');\nconst PropTypes = require('prop-types');\n/* $FlowFixMe(>=0.54.0 site=react_native_oss) This comment suppresses an error\n * found when Flow v0.54 was deployed. To see the error delete this comment and\n * run Flow. */\nconst TimerMixin = require('react-timer-mixin');\nconst Touchable = require('Touchable');\n\nconst createReactClass = require('create-react-class');\nconst ensurePositiveDelayProps = require('ensurePositiveDelayProps');\n/* $FlowFixMe(>=0.54.0 site=react_native_oss) This comment suppresses an error\n * found when Flow v0.54 was deployed. To see the error delete this comment and\n * run Flow. */\nconst warning = require('fbjs/lib/warning');\n\nconst {\n  AccessibilityComponentTypes,\n  AccessibilityTraits,\n} = require('ViewAccessibility');\n\nimport type {PressEvent} from 'CoreEventTypes';\n\nconst PRESS_RETENTION_OFFSET = {top: 20, left: 20, right: 20, bottom: 30};\n\n/**\n * Do not use unless you have a very good reason. All elements that\n * respond to press should have a visual feedback when touched.\n *\n * TouchableWithoutFeedback supports only one child.\n * If you wish to have several child components, wrap them in a View.\n */\nconst TouchableWithoutFeedback = createReactClass({\n  displayName: 'TouchableWithoutFeedback',\n  mixins: [TimerMixin, Touchable.Mixin],\n\n  propTypes: {\n    accessible: PropTypes.bool,\n    accessibilityComponentType: PropTypes.oneOf(\n      AccessibilityComponentTypes\n    ),\n    accessibilityTraits: PropTypes.oneOfType([\n      PropTypes.oneOf(AccessibilityTraits),\n      PropTypes.arrayOf(PropTypes.oneOf(AccessibilityTraits)),\n    ]),\n    /**\n     * If true, disable all interactions for this component.\n     */\n    disabled: PropTypes.bool,\n    /**\n     * Called when the touch is released, but not if cancelled (e.g. by a scroll\n     * that steals the responder lock).\n     */\n    onPress: PropTypes.func,\n    /**\n    * Called as soon as the touchable element is pressed and invoked even before onPress.\n    * This can be useful when making network requests.\n    */\n    onPressIn: PropTypes.func,\n    /**\n    * Called as soon as the touch is released even before onPress.\n    */\n     onPressOut: PropTypes.func,\n    /**\n     * Invoked on mount and layout changes with\n     *\n     *   `{nativeEvent: {layout: {x, y, width, height}}}`\n     */\n    onLayout: PropTypes.func,\n\n    onLongPress: PropTypes.func,\n\n    /**\n     * Delay in ms, from the start of the touch, before onPressIn is called.\n     */\n    delayPressIn: PropTypes.number,\n    /**\n     * Delay in ms, from the release of the touch, before onPressOut is called.\n     */\n    delayPressOut: PropTypes.number,\n    /**\n     * Delay in ms, from onPressIn, before onLongPress is called.\n     */\n    delayLongPress: PropTypes.number,\n    /**\n     * When the scroll view is disabled, this defines how far your touch may\n     * move off of the button, before deactivating the button. Once deactivated,\n     * try moving it back and you'll see that the button is once again\n     * reactivated! Move it back and forth several times while the scroll view\n     * is disabled. Ensure you pass in a constant to reduce memory allocations.\n     */\n    pressRetentionOffset: EdgeInsetsPropType,\n    /**\n     * This defines how far your touch can start away from the button. This is\n     * added to `pressRetentionOffset` when moving off of the button.\n     * ** NOTE **\n     * The touch area never extends past the parent view bounds and the Z-index\n     * of sibling views always takes precedence if a touch hits two overlapping\n     * views.\n     */\n    hitSlop: EdgeInsetsPropType,\n  },\n\n  getInitialState: function() {\n    return this.touchableGetInitialState();\n  },\n\n  componentDidMount: function() {\n    ensurePositiveDelayProps(this.props);\n  },\n\n  UNSAFE_componentWillReceiveProps: function(nextProps: Object) {\n    ensurePositiveDelayProps(nextProps);\n  },\n\n  /**\n   * `Touchable.Mixin` self callbacks. The mixin will invoke these if they are\n   * defined on your component.\n   */\n  touchableHandlePress: function(e: PressEvent) {\n    this.props.onPress && this.props.onPress(e);\n  },\n\n  touchableHandleActivePressIn: function(e: PressEvent) {\n    this.props.onPressIn && this.props.onPressIn(e);\n  },\n\n  touchableHandleActivePressOut: function(e: PressEvent) {\n    this.props.onPressOut && this.props.onPressOut(e);\n  },\n\n  touchableHandleLongPress: function(e: PressEvent) {\n    this.props.onLongPress && this.props.onLongPress(e);\n  },\n\n  touchableGetPressRectOffset: function(): typeof PRESS_RETENTION_OFFSET {\n    return this.props.pressRetentionOffset || PRESS_RETENTION_OFFSET;\n  },\n\n  touchableGetHitSlop: function(): ?Object {\n    return this.props.hitSlop;\n  },\n\n  touchableGetHighlightDelayMS: function(): number {\n    return this.props.delayPressIn || 0;\n  },\n\n  touchableGetLongPressDelayMS: function(): number {\n    return this.props.delayLongPress === 0 ? 0 :\n      this.props.delayLongPress || 500;\n  },\n\n  touchableGetPressOutDelayMS: function(): number {\n    return this.props.delayPressOut || 0;\n  },\n\n  render: function(): React.Element<any> {\n    // Note(avik): remove dynamic typecast once Flow has been upgraded\n    // $FlowFixMe(>=0.41.0)\n    const child = React.Children.only(this.props.children);\n    let children = child.props.children;\n    warning(\n      !child.type || child.type.displayName !== 'Text',\n      'TouchableWithoutFeedback does not work well with Text children. Wrap children in a View instead. See ' +\n        ((child._owner && child._owner.getName && child._owner.getName()) || '<unknown>')\n    );\n    if (Touchable.TOUCH_TARGET_DEBUG && child.type && child.type.displayName === 'View') {\n      children = React.Children.toArray(children);\n      children.push(Touchable.renderDebugView({color: 'red', hitSlop: this.props.hitSlop}));\n    }\n    const style = (Touchable.TOUCH_TARGET_DEBUG && child.type && child.type.displayName === 'Text') ?\n      [child.props.style, {color: 'red'}] :\n      child.props.style;\n    return (React: any).cloneElement(child, {\n      accessible: this.props.accessible !== false,\n      accessibilityLabel: this.props.accessibilityLabel,\n      accessibilityComponentType: this.props.accessibilityComponentType,\n      accessibilityTraits: this.props.accessibilityTraits,\n      nativeID: this.props.nativeID,\n      testID: this.props.testID,\n      onLayout: this.props.onLayout,\n      hitSlop: this.props.hitSlop,\n      onStartShouldSetResponder: this.touchableHandleStartShouldSetResponder,\n      onResponderTerminationRequest: this.touchableHandleResponderTerminationRequest,\n      onResponderGrant: this.touchableHandleResponderGrant,\n      onResponderMove: this.touchableHandleResponderMove,\n      onResponderRelease: this.touchableHandleResponderRelease,\n      onResponderTerminate: this.touchableHandleResponderTerminate,\n      style,\n      children,\n    });\n  }\n});\n\nmodule.exports = TouchableWithoutFeedback;\n"]}