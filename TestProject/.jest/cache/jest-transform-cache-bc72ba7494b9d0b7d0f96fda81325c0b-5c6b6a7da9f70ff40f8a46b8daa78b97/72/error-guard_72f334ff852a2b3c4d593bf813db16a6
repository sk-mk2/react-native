07b3902cec35fda8206f903775d07597
var _inGuard=0;var _globalHandler=function onError(e){throw e;};var ErrorUtils={setGlobalHandler:function setGlobalHandler(fun){_globalHandler=fun;},getGlobalHandler:function getGlobalHandler(){return _globalHandler;},reportError:function reportError(error){_globalHandler&&_globalHandler(error);},reportFatalError:function reportFatalError(error){_globalHandler&&_globalHandler(error,true);},applyWithGuard:function applyWithGuard(fun,context,args){try{_inGuard++;return fun.apply(context,args);}catch(e){ErrorUtils.reportError(e);}finally{_inGuard--;}return null;},applyWithGuardIfNeeded:function applyWithGuardIfNeeded(fun,context,args){if(ErrorUtils.inGuard()){return fun.apply(context,args);}else{ErrorUtils.applyWithGuard(fun,context,args);}return null;},inGuard:function inGuard(){return _inGuard;},guard:function guard(fun,name,context){if(typeof fun!=='function'){console.warn('A function must be passed to ErrorUtils.guard, got ',fun);return null;}name=name||fun.name||'<generated guard>';function guarded(){return ErrorUtils.applyWithGuard(fun,context||this,arguments,null,name);}return guarded;}};global.ErrorUtils=ErrorUtils;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVycm9yLWd1YXJkLmpzIl0sIm5hbWVzIjpbIl9pbkd1YXJkIiwiX2dsb2JhbEhhbmRsZXIiLCJvbkVycm9yIiwiZSIsIkVycm9yVXRpbHMiLCJzZXRHbG9iYWxIYW5kbGVyIiwiZnVuIiwiZ2V0R2xvYmFsSGFuZGxlciIsInJlcG9ydEVycm9yIiwiZXJyb3IiLCJyZXBvcnRGYXRhbEVycm9yIiwiYXBwbHlXaXRoR3VhcmQiLCJjb250ZXh0IiwiYXJncyIsImFwcGx5IiwiYXBwbHlXaXRoR3VhcmRJZk5lZWRlZCIsImluR3VhcmQiLCJndWFyZCIsIm5hbWUiLCJjb25zb2xlIiwid2FybiIsImd1YXJkZWQiLCJhcmd1bWVudHMiLCJnbG9iYWwiXSwibWFwcGluZ3MiOiJBQVdBLEdBQUlBLFVBQVcsQ0FBZixDQU9BLEdBQUlDLGdCQUFpQixRQUFTQyxRQUFULENBQWlCQyxDQUFqQixDQUFvQixDQUN2QyxLQUFNQSxFQUFOLENBQ0QsQ0FGRCxDQVlBLEdBQU1DLFlBQWEsQ0FDakJDLGdCQURpQiwyQkFDQUMsR0FEQSxDQUNLLENBQ3BCTCxlQUFpQkssR0FBakIsQ0FDRCxDQUhnQixDQUlqQkMsZ0JBSmlCLDRCQUlFLENBQ2pCLE1BQU9OLGVBQVAsQ0FDRCxDQU5nQixDQU9qQk8sV0FQaUIsc0JBT0xDLEtBUEssQ0FPRSxDQUNqQlIsZ0JBQWtCQSxlQUFlUSxLQUFmLENBQWxCLENBQ0QsQ0FUZ0IsQ0FVakJDLGdCQVZpQiwyQkFVQUQsS0FWQSxDQVVPLENBQ3RCUixnQkFBa0JBLGVBQWVRLEtBQWYsQ0FBc0IsSUFBdEIsQ0FBbEIsQ0FDRCxDQVpnQixDQWFqQkUsY0FiaUIseUJBYUZMLEdBYkUsQ0FhR00sT0FiSCxDQWFZQyxJQWJaLENBYWtCLENBQ2pDLEdBQUksQ0FDRmIsV0FDQSxNQUFPTSxLQUFJUSxLQUFKLENBQVVGLE9BQVYsQ0FBbUJDLElBQW5CLENBQVAsQ0FDRCxDQUFDLE1BQU9WLENBQVAsQ0FBVSxDQUNWQyxXQUFXSSxXQUFYLENBQXVCTCxDQUF2QixFQUNELENBTEQsT0FLVSxDQUNSSCxXQUNELENBQ0QsTUFBTyxLQUFQLENBQ0QsQ0F2QmdCLENBd0JqQmUsc0JBeEJpQixpQ0F3Qk1ULEdBeEJOLENBd0JXTSxPQXhCWCxDQXdCb0JDLElBeEJwQixDQXdCMEIsQ0FDekMsR0FBSVQsV0FBV1ksT0FBWCxFQUFKLENBQTBCLENBQ3hCLE1BQU9WLEtBQUlRLEtBQUosQ0FBVUYsT0FBVixDQUFtQkMsSUFBbkIsQ0FBUCxDQUNELENBRkQsSUFFTyxDQUNMVCxXQUFXTyxjQUFYLENBQTBCTCxHQUExQixDQUErQk0sT0FBL0IsQ0FBd0NDLElBQXhDLEVBQ0QsQ0FDRCxNQUFPLEtBQVAsQ0FDRCxDQS9CZ0IsQ0FnQ2pCRyxPQWhDaUIsbUJBZ0NQLENBQ1IsTUFBT2hCLFNBQVAsQ0FDRCxDQWxDZ0IsQ0FtQ2pCaUIsS0FuQ2lCLGdCQW1DWFgsR0FuQ1csQ0FtQ05ZLElBbkNNLENBbUNBTixPQW5DQSxDQW1DUyxDQUN4QixHQUFJLE1BQU9OLElBQVAsR0FBZSxVQUFuQixDQUErQixDQUM3QmEsUUFBUUMsSUFBUixDQUFhLHFEQUFiLENBQW9FZCxHQUFwRSxFQUNBLE1BQU8sS0FBUCxDQUNELENBQ0RZLEtBQU9BLE1BQVFaLElBQUlZLElBQVosRUFBb0IsbUJBQTNCLENBQ0EsUUFBU0csUUFBVCxFQUFtQixDQUNqQixNQUNFakIsWUFBV08sY0FBWCxDQUNFTCxHQURGLENBRUVNLFNBQVcsSUFGYixDQUdFVSxTQUhGLENBSUUsSUFKRixDQUtFSixJQUxGLENBREYsQ0FTRCxDQUVELE1BQU9HLFFBQVAsQ0FDRCxDQXREZ0IsQ0FBbkIsQ0F5REFFLE9BQU9uQixVQUFQLENBQW9CQSxVQUFwQiIsImZpbGUiOiJlcnJvci1ndWFyZC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIGVycm9yLWd1YXJkXG4gKiBAcG9seWZpbGxcbiAqIEBub2xpbnRcbiAqL1xuXG5sZXQgX2luR3VhcmQgPSAwO1xuXG4vKipcbiAqIFRoaXMgaXMgdGhlIGVycm9yIGhhbmRsZXIgdGhhdCBpcyBjYWxsZWQgd2hlbiB3ZSBlbmNvdW50ZXIgYW4gZXhjZXB0aW9uXG4gKiB3aGVuIGxvYWRpbmcgYSBtb2R1bGUuIFRoaXMgd2lsbCByZXBvcnQgYW55IGVycm9ycyBlbmNvdW50ZXJlZCBiZWZvcmVcbiAqIEV4Y2VwdGlvbnNNYW5hZ2VyIGlzIGNvbmZpZ3VyZWQuXG4gKi9cbmxldCBfZ2xvYmFsSGFuZGxlciA9IGZ1bmN0aW9uIG9uRXJyb3IoZSkge1xuICB0aHJvdyBlO1xufTtcblxuLyoqXG4gKiBUaGUgcGFydGljdWxhciByZXF1aXJlIHJ1bnRpbWUgdGhhdCB3ZSBhcmUgdXNpbmcgbG9va3MgZm9yIGEgZ2xvYmFsXG4gKiBgRXJyb3JVdGlsc2Agb2JqZWN0IGFuZCBpZiBpdCBleGlzdHMsIHRoZW4gaXQgcmVxdWlyZXMgbW9kdWxlcyB3aXRoIHRoZVxuICogZXJyb3IgaGFuZGxlciBzcGVjaWZpZWQgdmlhIEVycm9yVXRpbHMuc2V0R2xvYmFsSGFuZGxlciBieSBjYWxsaW5nIHRoZVxuICogcmVxdWlyZSBmdW5jdGlvbiB3aXRoIGFwcGx5V2l0aEd1YXJkLiBTaW5jZSB0aGUgcmVxdWlyZSBtb2R1bGUgaXMgbG9hZGVkXG4gKiBiZWZvcmUgYW55IG9mIHRoZSBtb2R1bGVzLCB0aGlzIEVycm9yVXRpbHMgbXVzdCBiZSBkZWZpbmVkIChhbmQgdGhlIGhhbmRsZXJcbiAqIHNldCkgZ2xvYmFsbHkgYmVmb3JlIHJlcXVpcmluZyBhbnl0aGluZy5cbiAqL1xuY29uc3QgRXJyb3JVdGlscyA9IHtcbiAgc2V0R2xvYmFsSGFuZGxlcihmdW4pIHtcbiAgICBfZ2xvYmFsSGFuZGxlciA9IGZ1bjtcbiAgfSxcbiAgZ2V0R2xvYmFsSGFuZGxlcigpIHtcbiAgICByZXR1cm4gX2dsb2JhbEhhbmRsZXI7XG4gIH0sXG4gIHJlcG9ydEVycm9yKGVycm9yKSB7XG4gICAgX2dsb2JhbEhhbmRsZXIgJiYgX2dsb2JhbEhhbmRsZXIoZXJyb3IpO1xuICB9LFxuICByZXBvcnRGYXRhbEVycm9yKGVycm9yKSB7XG4gICAgX2dsb2JhbEhhbmRsZXIgJiYgX2dsb2JhbEhhbmRsZXIoZXJyb3IsIHRydWUpO1xuICB9LFxuICBhcHBseVdpdGhHdWFyZChmdW4sIGNvbnRleHQsIGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgX2luR3VhcmQrKztcbiAgICAgIHJldHVybiBmdW4uYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgRXJyb3JVdGlscy5yZXBvcnRFcnJvcihlKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgX2luR3VhcmQtLTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4gIGFwcGx5V2l0aEd1YXJkSWZOZWVkZWQoZnVuLCBjb250ZXh0LCBhcmdzKSB7XG4gICAgaWYgKEVycm9yVXRpbHMuaW5HdWFyZCgpKSB7XG4gICAgICByZXR1cm4gZnVuLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICBFcnJvclV0aWxzLmFwcGx5V2l0aEd1YXJkKGZ1biwgY29udGV4dCwgYXJncyk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9LFxuICBpbkd1YXJkKCkge1xuICAgIHJldHVybiBfaW5HdWFyZDtcbiAgfSxcbiAgZ3VhcmQoZnVuLCBuYW1lLCBjb250ZXh0KSB7XG4gICAgaWYgKHR5cGVvZiBmdW4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNvbnNvbGUud2FybignQSBmdW5jdGlvbiBtdXN0IGJlIHBhc3NlZCB0byBFcnJvclV0aWxzLmd1YXJkLCBnb3QgJywgZnVuKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBuYW1lID0gbmFtZSB8fCBmdW4ubmFtZSB8fCAnPGdlbmVyYXRlZCBndWFyZD4nO1xuICAgIGZ1bmN0aW9uIGd1YXJkZWQoKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBFcnJvclV0aWxzLmFwcGx5V2l0aEd1YXJkKFxuICAgICAgICAgIGZ1bixcbiAgICAgICAgICBjb250ZXh0IHx8IHRoaXMsXG4gICAgICAgICAgYXJndW1lbnRzLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgbmFtZVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBndWFyZGVkO1xuICB9LFxufTtcblxuZ2xvYmFsLkVycm9yVXRpbHMgPSBFcnJvclV0aWxzO1xuIl19