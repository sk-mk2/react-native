{"version":3,"sources":["BatchedBridge.js"],"names":["MessageQueue","require","BatchedBridge","__fbUninstallRNGlobalErrorHandler","Object","defineProperty","global","configurable","value","module","exports"],"mappings":"AASA,aAEA,GAAMA,cAAeC,OAAf,gBAAN,CAWA,GAAMC,eAAgB,GAAIF,aAAJ,CAEpB,MAAOG,kCAAP,GAA6C,WAA7C,EACEA,oCAAsC,IAHpB,CAAtB,CAYAC,OAAOC,cAAP,CAAsBC,MAAtB,CAA8B,mBAA9B,CAAmD,CACjDC,aAAc,IADmC,CAEjDC,MAAON,aAF0C,CAAnD,EAKAO,OAAOC,OAAP,CAAiBR,aAAjB","file":"BatchedBridge.js","sourcesContent":["/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @providesModule BatchedBridge\n * @flow\n */\n'use strict';\n\nconst MessageQueue = require('MessageQueue');\n\n// MessageQueue can install a global handler to catch all exceptions where JS users can register their own behavior\n// This handler makes all exceptions to be handled inside MessageQueue rather than by the VM at its origin\n// This makes stacktraces to be placed at MessageQueue rather than at where they were launched\n// The parameter __fbUninstallRNGlobalErrorHandler is passed to MessageQueue to prevent the handler from being installed\n//\n// __fbUninstallRNGlobalErrorHandler is conditionally set by the Inspector while the VM is paused for initialization\n// If the Inspector isn't present it defaults to undefined and the global error handler is installed\n// The Inspector can still call MessageQueue#uninstallGlobalErrorHandler to uninstalled on attach\n\nconst BatchedBridge = new MessageQueue(\n  // $FlowFixMe\n  typeof __fbUninstallRNGlobalErrorHandler !== 'undefined' &&\n    __fbUninstallRNGlobalErrorHandler === true, // eslint-disable-line no-undef\n);\n\n// Wire up the batched bridge on the global object so that we can call into it.\n// Ideally, this would be the inverse relationship. I.e. the native environment\n// provides this global directly with its script embedded. Then this module\n// would export it. A possible fix would be to trim the dependencies in\n// MessageQueue to its minimal features and embed that in the native runtime.\n\nObject.defineProperty(global, '__fbBatchedBridge', {\n  configurable: true,\n  value: BatchedBridge,\n});\n\nmodule.exports = BatchedBridge;\n"]}