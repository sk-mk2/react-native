927224c42f5319cbcd040a0d3239322c
'use strict';var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var EventEmitter=require('EventEmitter');var EventEmitterWithHolding=require('EventEmitterWithHolding');var EventHolder=require('EventHolder');var invariant=require('fbjs/lib/invariant');var keyOf=require('fbjs/lib/keyOf');var TYPES_KEY=keyOf({__types:true});function mixInEventEmitter(cls,types){invariant(types,'Must supply set of valid event types');var target=cls.prototype||cls;invariant(!target.__eventEmitter,'An active emitter is already mixed in');var ctor=cls.constructor;if(ctor){invariant(ctor===Object||ctor===Function,'Mix EventEmitter into a class, not an instance');}if(target.hasOwnProperty(TYPES_KEY)){_extends(target.__types,types);}else if(target.__types){target.__types=_extends({},target.__types,types);}else{target.__types=types;}_extends(target,EventEmitterMixin);}var EventEmitterMixin={emit:function emit(eventType,a,b,c,d,e,_){return this.__getEventEmitter().emit(eventType,a,b,c,d,e,_);},emitAndHold:function emitAndHold(eventType,a,b,c,d,e,_){return this.__getEventEmitter().emitAndHold(eventType,a,b,c,d,e,_);},addListener:function addListener(eventType,listener,context){return this.__getEventEmitter().addListener(eventType,listener,context);},once:function once(eventType,listener,context){return this.__getEventEmitter().once(eventType,listener,context);},addRetroactiveListener:function addRetroactiveListener(eventType,listener,context){return this.__getEventEmitter().addRetroactiveListener(eventType,listener,context);},addListenerMap:function addListenerMap(listenerMap,context){return this.__getEventEmitter().addListenerMap(listenerMap,context);},addRetroactiveListenerMap:function addRetroactiveListenerMap(listenerMap,context){return this.__getEventEmitter().addListenerMap(listenerMap,context);},removeAllListeners:function removeAllListeners(){this.__getEventEmitter().removeAllListeners();},removeCurrentListener:function removeCurrentListener(){this.__getEventEmitter().removeCurrentListener();},releaseHeldEventType:function releaseHeldEventType(eventType){this.__getEventEmitter().releaseHeldEventType(eventType);},__getEventEmitter:function __getEventEmitter(){if(!this.__eventEmitter){var emitter=new EventEmitter();if(__DEV__){var EventValidator=require('EventValidator');emitter=EventValidator.addValidation(emitter,this.__types);}var holder=new EventHolder();this.__eventEmitter=new EventEmitterWithHolding(emitter,holder);}return this.__eventEmitter;}};module.exports=mixInEventEmitter;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1peEluRXZlbnRFbWl0dGVyLmpzIl0sIm5hbWVzIjpbIkV2ZW50RW1pdHRlciIsInJlcXVpcmUiLCJFdmVudEVtaXR0ZXJXaXRoSG9sZGluZyIsIkV2ZW50SG9sZGVyIiwiaW52YXJpYW50Iiwia2V5T2YiLCJUWVBFU19LRVkiLCJfX3R5cGVzIiwibWl4SW5FdmVudEVtaXR0ZXIiLCJjbHMiLCJ0eXBlcyIsInRhcmdldCIsInByb3RvdHlwZSIsIl9fZXZlbnRFbWl0dGVyIiwiY3RvciIsImNvbnN0cnVjdG9yIiwiT2JqZWN0IiwiRnVuY3Rpb24iLCJoYXNPd25Qcm9wZXJ0eSIsIkV2ZW50RW1pdHRlck1peGluIiwiZW1pdCIsImV2ZW50VHlwZSIsImEiLCJiIiwiYyIsImQiLCJlIiwiXyIsIl9fZ2V0RXZlbnRFbWl0dGVyIiwiZW1pdEFuZEhvbGQiLCJhZGRMaXN0ZW5lciIsImxpc3RlbmVyIiwiY29udGV4dCIsIm9uY2UiLCJhZGRSZXRyb2FjdGl2ZUxpc3RlbmVyIiwiYWRkTGlzdGVuZXJNYXAiLCJsaXN0ZW5lck1hcCIsImFkZFJldHJvYWN0aXZlTGlzdGVuZXJNYXAiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJyZW1vdmVDdXJyZW50TGlzdGVuZXIiLCJyZWxlYXNlSGVsZEV2ZW50VHlwZSIsImVtaXR0ZXIiLCJfX0RFVl9fIiwiRXZlbnRWYWxpZGF0b3IiLCJhZGRWYWxpZGF0aW9uIiwiaG9sZGVyIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBU0EsYSxnT0FFQSxHQUFNQSxjQUFlQyxPQUFmLGdCQUFOLENBQ0EsR0FBTUMseUJBQTBCRCxPQUExQiwyQkFBTixDQUNBLEdBQU1FLGFBQWNGLE9BQWQsZUFBTixDQUVBLEdBQU1HLFdBQVlILE9BQVosc0JBQU4sQ0FJQSxHQUFNSSxPQUFRSixPQUFSLGtCQUFOLENBSUEsR0FBTUssV0FBWUQsTUFBTSxDQUFDRSxRQUFTLElBQVYsQ0FBTixDQUFsQixDQXVCQSxRQUFTQyxrQkFBVCxDQUEy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Q0FxQ3hCQyxzQkFBdUIsZ0NBQVcsQ0FDaEMsS0FBS1gsaUJBQUwsR0FBeUJXLHFCQUF6QixHQUNELENBdkN1QixDQXlDeEJDLHFCQUFzQiw4QkFBU25CLFNBQVQsQ0FBb0IsQ0FDeEMsS0FBS08saUJBQUwsR0FBeUJZLG9CQUF6QixDQUE4Q25CLFNBQTlDLEVBQ0QsQ0EzQ3VCLENBNkN4Qk8sa0JBQW1CLDRCQUFXLENBQzVCLEdBQUksQ0FBQyxLQUFLZixjQUFWLENBQTBCLENBQ3hCLEdBQUk0QixTQUFVLEdBQUl6QyxhQUFKLEVBQWQsQ0FDQSxHQUFJMEMsT0FBSixDQUFhLENBQ1gsR0FBTUMsZ0JBQWlCMUMsT0FBakIsa0JBQU4sQ0FDQXdDLFFBQVVFLGVBQWVDLGFBQWYsQ0FBNkJILE9BQTdCLENBQXNDLEtBQUtsQyxPQUEzQyxDQUFWLENBQ0QsQ0FFRCxHQUFNc0MsUUFBUyxHQUFJMUMsWUFBSixFQUFmLENBQ0EsS0FBS1UsY0FBTCxDQUFzQixHQUFJWCx3QkFBSixDQUE0QnVDLE9BQTVCLENBQXFDSSxNQUFyQyxDQUF0QixDQUNELENBQ0QsTUFBTyxNQUFLaEMsY0FBWixDQUNELENBekR1QixDQUExQixDQTREQWlDLE9BQU9DLE9BQVAsQ0FBaUJ2QyxpQkFBakIiLCJmaWxlIjoibWl4SW5FdmVudEVtaXR0ZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBtaXhJbkV2ZW50RW1pdHRlclxuICogQGZsb3dcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdFdmVudEVtaXR0ZXInKTtcbmNvbnN0IEV2ZW50RW1pdHRlcldpdGhIb2xkaW5nID0gcmVxdWlyZSgnRXZlbnRFbWl0dGVyV2l0aEhvbGRpbmcnKTtcbmNvbnN0IEV2ZW50SG9sZGVyID0gcmVxdWlyZSgnRXZlbnRIb2xkZXInKTtcblxuY29uc3QgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG4vKiAkRmxvd0ZpeE1lKD49MC41NC4wIHNpdGU9cmVhY3RfbmF0aXZlX29zcykgVGhpcyBjb21tZW50IHN1cHByZXNzZXMgYW4gZXJyb3JcbiAqIGZvdW5kIHdoZW4gRmxvdyB2MC41NCB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGUgZXJyb3IgZGVsZXRlIHRoaXMgY29tbWVudCBhbmRcbiAqIHJ1biBGbG93LiAqL1xuY29uc3Qga2V5T2YgPSByZXF1aXJlKCdmYmpzL2xpYi9rZXlPZicpO1xuXG5pbXBvcnQgdHlwZSBFbWl0dGVyU3Vic2NyaXB0aW9uIGZyb20gJ0VtaXR0ZXJTdWJzY3JpcHRpb24nO1xuXG5jb25zdCBUWVBFU19LRVkgPSBrZXlPZih7X190eXBlczogdHJ1ZX0pO1xuXG4vKipcbiAqIEFQSSB0byBzZXR1cCBhbiBvYmplY3Qgb3IgY29uc3RydWN0b3IgdG8gYmUgYWJsZSB0byBlbWl0IGRhdGEgZXZlbnRzLlxuICpcbiAqIEBleGFtcGxlXG4gKiBmdW5jdGlvbiBEb2coKSB7IC4uLmRvZyBzdHVmZi4uLiB9XG4gKiBtaXhJbkV2ZW50RW1pdHRlcihEb2csIHtiYXJrOiB0cnVlfSk7XG4gKlxuICogdmFyIHB1cHB5ID0gbmV3IERvZygpO1xuICogcHVwcHkuYWRkTGlzdGVuZXIoJ2JhcmsnLCBmdW5jdGlvbiAodm9sdW1lKSB7XG4gKiAgIGNvbnNvbGUubG9nKCdQdXBweScsIHRoaXMsICdiYXJrZWQgYXQgdm9sdW1lOicsIHZvbHVtZSk7XG4gKiB9KTtcbiAqIHB1cHB5LmVtaXQoJ2JhcmsnLCAncXVpZXQnKTtcbiAqIC8vIFB1cHB5IDxwdXBweT4gYmFya2VkIGF0IHZvbHVtZTogcXVpZXRcbiAqXG4gKlxuICogLy8gQSBcInNpbmdsZXRvblwiIG9iamVjdCBtYXkgYWxzbyBiZSBjb21taXNzaW9uZWQ6XG4gKlxuICogdmFyIFNpbmdsZXRvbiA9IHt9O1xuICogbWl4SW5FdmVudEVtaXR0ZXIoU2luZ2xldG9uLCB7bG9uZWx5OiB0cnVlfSk7XG4gKiBTaW5nbGV0b24uZW1pdCgnbG9uZWx5JywgdHJ1ZSk7XG4gKi9cbmZ1bmN0aW9uIG1peEluRXZlbnRFbWl0dGVyKGNsczogRnVuY3Rpb24gfCBPYmplY3QsIHR5cGVzOiBPYmplY3QpIHtcbiAgaW52YXJpYW50KHR5cGVzLCAnTXVzdCBzdXBwbHkgc2V0IG9mIHZhbGlkIGV2ZW50IHR5cGVzJyk7XG5cbiAgLy8gSWYgdGhpcyBpcyBhIGNvbnN0cnVjdG9yLCB3cml0ZSB0byB0aGUgcHJvdG90eXBlLCBvdGhlcndpc2Ugd3JpdGUgdG8gdGhlXG4gIC8vIHNpbmdsZXRvbiBvYmplY3QuXG4gIGNvbnN0IHRhcmdldCA9IGNscy5wcm90b3R5cGUgfHwgY2xzO1xuXG4gIGludmFyaWFudCghdGFyZ2V0Ll9fZXZlbnRFbWl0dGVyLCAnQW4gYWN0aXZlIGVtaXR0ZXIgaXMgYWxyZWFkeSBtaXhlZCBpbicpO1xuXG4gIGNvbnN0IGN0b3IgPSBjbHMuY29uc3RydWN0b3I7XG4gIGlmIChjdG9yKSB7XG4gICAgaW52YXJpYW50KFxuICAgICAgY3RvciA9PT0gT2JqZWN0IHx8IGN0b3IgPT09IEZ1bmN0aW9uLFxuICAgICAgJ01peCBFdmVudEVtaXR0ZXIgaW50byBhIGNsYXNzLCBub3QgYW4gaW5zdGFuY2UnXG4gICAgKTtcbiAgfVxuXG4gIC8vIEtlZXAgdHJhY2sgb2YgdGhlIHByb3ZpZGVkIHR5cGVzLCB1bmlvbiB0aGUgdHlwZXMgaWYgdGhleSBhbHJlYWR5IGV4aXN0LFxuICAvLyB3aGljaCBhbGxvd3MgZm9yIHByb3RvdHlwZSBzdWJjbGFzc2VzIHRvIHByb3ZpZGUgbW9yZSB0eXBlcy5cbiAgaWYgKHRhcmdldC5oYXNPd25Qcm9wZXJ0eShUWVBFU19LRVkpKSB7XG4gICAgT2JqZWN0LmFzc2lnbih0YXJnZXQuX190eXBlcywgdHlwZXMpO1xuICB9IGVsc2UgaWYgKHRhcmdldC5fX3R5cGVzKSB7XG4gICAgdGFyZ2V0Ll9fdHlwZXMgPSBPYmplY3QuYXNzaWduKHt9LCB0YXJnZXQuX190eXBlcywgdHlwZXMpO1xuICB9IGVsc2Uge1xuICAgIHRhcmdldC5fX3R5cGVzID0gdHlwZXM7XG4gIH1cbiAgT2JqZWN0LmFzc2lnbih0YXJnZXQsIEV2ZW50RW1pdHRlck1peGluKTtcbn1cblxuY29uc3QgRXZlbnRFbWl0dGVyTWl4aW4gPSB7XG4gIGVtaXQ6IGZ1bmN0aW9uKGV2ZW50VHlwZSwgYSwgYiwgYywgZCwgZSwgXykge1xuICAgIHJldHVybiB0aGlzLl9fZ2V0RXZlbnRFbWl0dGVyKCkuZW1pdChldmVudFR5cGUsIGEsIGIsIGMsIGQsIGUsIF8pO1xuICB9LFxuXG4gIGVtaXRBbmRIb2xkOiBmdW5jdGlvbihldmVudFR5cGUsIGEsIGIsIGMsIGQsIGUsIF8pIHtcbiAgICByZXR1cm4gdGhpcy5fX2dldEV2ZW50RW1pdHRlcigpLmVtaXRBbmRIb2xkKGV2ZW50VHlwZSwgYSwgYiwgYywgZCwgZSwgXyk7XG4gIH0sXG5cbiAgYWRkTGlzdGVuZXI6IGZ1bmN0aW9uKGV2ZW50VHlwZSwgbGlzdGVuZXIsIGNvbnRleHQpOiBFbWl0dGVyU3Vic2NyaXB0aW9uIHtcbiAgICByZXR1cm4gdGhpcy5fX2dldEV2ZW50RW1pdHRlcigpLmFkZExpc3RlbmVyKGV2ZW50VHlwZSwgbGlzdGVuZXIsIGNvbnRleHQpO1xuICB9LFxuXG4gIG9uY2U6IGZ1bmN0aW9uKGV2ZW50VHlwZSwgbGlzdGVuZXIsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gdGhpcy5fX2dldEV2ZW50RW1pdHRlcigpLm9uY2UoZXZlbnRUeXBlLCBsaXN0ZW5lciwgY29udGV4dCk7XG4gIH0sXG5cbiAgYWRkUmV0cm9hY3RpdmVMaXN0ZW5lcjogZnVuY3Rpb24oZXZlbnRUeXBlLCBsaXN0ZW5lciwgY29udGV4dCkge1xuICAgIHJldHVybiB0aGlzLl9fZ2V0RXZlbnRFbWl0dGVyKCkuYWRkUmV0cm9hY3RpdmVMaXN0ZW5lcihcbiAgICAgIGV2ZW50VHlwZSxcbiAgICAgIGxpc3RlbmVyLFxuICAgICAgY29udGV4dFxuICAgICk7XG4gIH0sXG5cbiAgYWRkTGlzdGVuZXJNYXA6IGZ1bmN0aW9uKGxpc3RlbmVyTWFwLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIHRoaXMuX19nZXRFdmVudEVtaXR0ZXIoKS5hZGRMaXN0ZW5lck1hcChsaXN0ZW5lck1hcCwgY29udGV4dCk7XG4gIH0sXG5cbiAgYWRkUmV0cm9hY3RpdmVMaXN0ZW5lck1hcDogZnVuY3Rpb24obGlzdGVuZXJNYXAsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gdGhpcy5fX2dldEV2ZW50RW1pdHRlcigpLmFkZExpc3RlbmVyTWFwKGxpc3RlbmVyTWFwLCBjb250ZXh0KTtcbiAgfSxcblxuICByZW1vdmVBbGxMaXN0ZW5lcnM6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX19nZXRFdmVudEVtaXR0ZXIoKS5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgfSxcblxuICByZW1vdmVDdXJyZW50TGlzdGVuZXI6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX19nZXRFdmVudEVtaXR0ZXIoKS5yZW1vdmVDdXJyZW50TGlzdGVuZXIoKTtcbiAgfSxcblxuICByZWxlYXNlSGVsZEV2ZW50VHlwZTogZnVuY3Rpb24oZXZlbnRUeXBlKSB7XG4gICAgdGhpcy5fX2dldEV2ZW50RW1pdHRlcigpLnJlbGVhc2VIZWxkRXZlbnRUeXBlKGV2ZW50VHlwZSk7XG4gIH0sXG5cbiAgX19nZXRFdmVudEVtaXR0ZXI6IGZ1bmN0aW9uKCkge1xuICAgIGlmICghdGhpcy5fX2V2ZW50RW1pdHRlcikge1xuICAgICAgbGV0IGVtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICBpZiAoX19ERVZfXykge1xuICAgICAgICBjb25zdCBFdmVudFZhbGlkYXRvciA9IHJlcXVpcmUoJ0V2ZW50VmFsaWRhdG9yJyk7XG4gICAgICAgIGVtaXR0ZXIgPSBFdmVudFZhbGlkYXRvci5hZGRWYWxpZGF0aW9uKGVtaXR0ZXIsIHRoaXMuX190eXBlcyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGhvbGRlciA9IG5ldyBFdmVudEhvbGRlcigpO1xuICAgICAgdGhpcy5fX2V2ZW50RW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXJXaXRoSG9sZGluZyhlbWl0dGVyLCBob2xkZXIpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fX2V2ZW50RW1pdHRlcjtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBtaXhJbkV2ZW50RW1pdHRlcjtcbiJdfQ==